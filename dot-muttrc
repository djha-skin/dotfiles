set move = no
set confirmappend = no
alternative_order text/plain text/html
#auto_view text/html
set mailcap_path = ~/.mailcap
unset markers
set envelope_from=yes
set maildir_header_cache_verify = yes
set delete = yes
bind index <up> previous-unread
bind index <down> next-unread
set sidebar_visible = yes
set sidebar_format = '%B%<F? [%F]>%* %<N?%N/>%S'
set mail_check_stats
set sidebar_width = 24
set sidebar_short_path = no
set sidebar_delim_chars = ']/.['
set sidebar_folder_indent = no
set sidebar_indent_string = '  '
set sidebar_new_mail_only = no
set sidebar_next_new_wrap = yes
set sidebar_on_right = no
set sidebar_divider_char = '|'
set mail_check = 90
set timeout = 15
unset imap_passive

set sidebar_sort_method = path
set sort = threads
set sort_aux = reverse-date

bind index,pager \Cp sidebar-prev
bind index,pager \Cn sidebar-next
bind index,pager \Co sidebar-open
bind index,pager B sidebar-toggle-visible

bind index \\ vfolder-from-query
set nm_query_type = "threads"

# https://neomutt.org/feature/sidebar#neomuttrc
# --------------------------------------------------------------------------
# COLORS â€“ some unpleasant examples are given
# --------------------------------------------------------------------------
# Note: All color operations are of the form:
#       color OBJECT FOREGROUND BACKGROUND
# Color of the current, open, mailbox
# Note: This is a general NeoMutt option which colors all selected items.
color indicator cyan black
# Sidebar-specific color of the selected item
color sidebar_indicator cyan black
# Color of the highlighted, but not open, mailbox.
color sidebar_highlight black color8
# Color of the entire Sidebar panel
color sidebar_background default black
# Color of the divider separating the Sidebar from NeoMutt panels
color sidebar_divider color8 black
# Color to give mailboxes containing flagged mail
color sidebar_flagged red black
# Color to give mailboxes containing new mail
color sidebar_new green black
# Color to give mailboxes containing no new/flagged mail, etc.
color sidebar_ordinary color245 default
# Color to give the spool_file mailbox
color sidebar_spool_file color207 default
# Color to give mailboxes containing no unread mail
color sidebar_unread color136 default
# --------------------------------------------------------------------------
set imap_check_subscribed = yes
set mail_check_stats
set beep = no
set beep_new = yes
set index_format = "%4C %Z %{%Y %b %d} %-15.15L (%?l?%4l&%4c?) %s"
set timeout=300

# https://unix.stackexchange.com/a/108809/9696
macro compose \e5 "F pandoc -s -f markdown_mmd -t html \ny^T^Utext/html; charset=utf-8\n"
set wait_key=no

macro index,pager \e7 "<tag-pattern>~f security@angel.com<enter><tag-prefix><save-message>+Security<enter>"

macro index A \
    "<tag-pattern>~N<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>" \
    "mark all new as read"
bind compose M view-pager
set allow_8bit = no
set attribution_intro = "On %d, %n wrote:\n"
set forward_quote = yes
set forward_references = yes
set forward_attribution_intro = "On %d, %n (%f) wrote:\n"
macro compose Y "<first-entry><enter-command>set wait_key=no<enter> \
    <pipe-entry>pandoc -f markdown -t html --o /tmp/neomutt-alternative.html<enter> \
    <attach-file>/tmp/neomutt-alternative.html<enter> \
    <toggle-unlink><toggle-disposition> \
    <tag-entry><first-entry><tag-entry><group-alternatives> \
    <enter-command>set wait_key=yes<enter>" \
    "prepare the message as 'multipart/alternative'"

# vim: syntax=neomuttrc
