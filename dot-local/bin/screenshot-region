#!/bin/sh

set -e
if [ -z "${1}" ]
then
    clipboard=1
else
    clipboard=0
fi
if which grimshot >/dev/null 2>&1 && which swappy >/dev/null 2>&1
then
    if [ "${clipboard}" -ne 0 ]
    then
        grimshot --cursor save area - | swappy -f -
    else
        grimshot --cursor save area - | swappy -f -
        mv ~/Pictures/Screenshots/swappy.png "${1}"
    fi
elif which grimshot >/dev/null 2>&1
then
    if [ "${clipboard}" -ne 0 ]
    then
        grimshot --cursor copy area >/dev/null 2>&1
    else
        grimshot --cursor save area "${1}" >/dev/null 2>&1
    fi
elif which spectacle >/dev/null 2>&1
then
    if [ "${clipboard}" -ne 0 ]
    then
        spectacle -n -r -b -c
    else
        spectacle -n -r -b -o "${1}"
    fi
elif which screencapture >/dev/null 2>&1
then
    if [ "${clipboard}" -ne 0 ]
    then
        screencapture -i -c
    else
        screencapture -i "${1}"
    fi
fi
